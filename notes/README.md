Notes
=====

This directory contains the `notes` app. Notes are written in
[Markdown](http://daringfireball.net/projects/markdown/syntax) and
compiled into HTML.

Directory
---------

* `contents`: contains notes in the form of Markdown files
* `pdfs`: contains PDFS
* `templates`: directory that houses templates for the compiler
* `preproc`: directory that houses preprocessing files
* `markdown2.py`: a
  [Markdown](http://daringfireball.net/projects/markdown/syntax)
  parser that can be found on
  [Github](https://github.com/trentm/python-markdown2)
* `to_template.py`: comverts raw HTML into a template, suitable for
  the compiler. Automatically prepares template for inheritance from
  `base.html`.

Dependencies
------------

* Python3.2
* [python-markdown2.py](https://github.com/trentm/python-markdown2)

Makefile
--------

* `make all`: publishes all listed notes
* `make pub-assets`: publishes public assets (CSS and JS)
* `make %`: publishes %, which is a filepath relative to `contents`.
  For example, to publish a Markdown file located at
  `contents/example.md`, run `make example`
* `pdfs`: publishes all PDFs.

Contents
--------

All notes are placed here. Any directory structure can be used within
`contents`, and the published format will reflect the directory
structure.

Notes are written in
[Markdown](https://github.com/trentm/python-markdown2) to make it
easier to read and write. Some non-standard behavior:

* To include a title, write the line

        ~ title: Your title here ~

  at the top of the file. Note the space after the first `~` and before
  the second `~`. The title will be used for the `title` tag, and will
  also be displayed on the actual document.

  This feature is implemented in `to_template.py`.

* Attributes (such as `title` shown above) can be placed. Currently
  supported attributes include:
    * `title`
    * `style`: add a single stylesheet
    * `template`: specifies a template from which to inherit (if
      omitted, defaults to `base.html`)

* Header IDs will derived from the contents of the actual header. For
  example,

        ### Hello World

  will become an `h3` tag with `id='hello-world'`. This feature is
  implemented in `markdown2.py`.

* The Table of Contents is automatically generated by
  `to_template.py`. It will compile the headers into an unordered
  list, nested according to header level.

Pre-processing
--------------

If you wish to pre-process a document, place the pre-processing file
in the `preproc` folder. The file should have the same name as the
Markdown file you are targeting, without a file extension. Also make
sure to `chmod` the file to executable. The pre-processor can be any
type of language, as long as you specify the correct she-bang at the
top.

The pre-processing file should take a single command-line argument,
which is the target document.
