<html>
  <head>
    <title>Iterators: exam</title>
    <link rel="stylesheet" type="text/css" href="../../template/style.css">
  </head>
  <body>
    <h1 id="title">Iterators: Exam</h1>

    <div id='reference'>
      <p>You can review Iterators in the following places</p>
      <ul>
        <li>Lecture 32</li>
        <li>Discussion 12</li>
      </ul>
    </div>

    <div id='contents'>
      <h2>Contents</h2>
      <ol>
        <li><a href="#iterators">Iterators</a>
        <ol>
          <li><a href="#iter-cross">Cross out the errors</a></li>
          <li><a href="#iter-fill">Fill in the blank</a></li>
        </ol>
        </li>
        <li><a href="#generators">Generators</a>
        <ol>
          <li><a href="#gen-code">Code-writing</a></li>
          <li><a href="#gen-fill">Fill in the blank</a></li>
        </ol>
        </li>
      </ol>
    </div>

    <h2 class="subtopic" id="starter">Starter Code</h2>
    <p>Starter code can be found <a href="starter.py">here</a>.</p>

    <h1 id="generators">Generators</h1>


    <h2 class="subtopic" id="iter-cross">Cross out the errors</h2> 

    <h3 class="question">Q1</h3>
    <p>Cross out any incorrect or unnecessary lines. You should not
    need to write any new lines to make the code work. Do not cross
    out any doctests.</p>
    <pre class="codeblock">
    class Naturals:
        """Doctests.

        &gt;&gt;&gt; n = Naturals()
        &gt;&gt;&gt; i = iter(n)
        &gt;&gt;&gt; next(i)
        0
        &gt;&gt;&gt; next(i)
        1
        &gt;&gt;&gt; next(i)
        2
        """
        def __init__(self):
            self.cur = 0

        def __iter__(self):
        def __iter__(self, start):
            self.cur = start
            while True:
                self.cur += 1
                return self.cur
            return Nat_iter(self.cur)

        def __next__(self):
            tmp = self.cur
            self.cur += 1
            return tmp

    class Nat_iter(Iterator):
    class Nat_iter:
        def __init__(self):
        def __init__(self, start):
            self.cur = start

        def __iter__(self):
            return self

        def __next__(self):
            tmp = self.cur
            self.cur += 1
            return tmp
    </pre>

    <h2 class="subtopic" id="iter-fill">Fill in the blank</h2> 

    <h3 class="question">Q2</h3>
    <p>Fill in the implementation of the iterator for the Rlist class.
    </p>
    <pre class="codeblock">
    class Rlist:
        """Doctests.

        &gt;&gt;&gt; r = Rlist(1, Rlist(2, Rlist(3)))
        &gt;&gt;&gt; for item in r:
        ...     print(item)
        1
        2
        3
        """
        def __init__(self, first, rest=None):
            self.first = first
            self.rest = rest
            self.curr = self

        def __iter__(self):
            return ______

        def __next__(self):
            if self.curr == ______:
                raise ________
            else:
                result = ______
                ______ = self.curr.rest
                return result
    </pre>


    <h1 id="generators">Generators</h1>
    <h2 class="subtopic" id="gen-code">Code-writing</h2> 

    <h3 class="question">Q3</h3>
    <p>Write a generator function <tt>zip</tt> that takes two
    iterators and yields elements of those iterators in pairs (see
    the doctests for clarification). <tt>zip</tt> will stop once
    one of the input iterators stops.</p>
    <pre class="codeblock">
    def zip(iter1, iter2):
        """Doctest

        &gt;&gt;&gt; i1 = iter([1, 2, 3, 4])
        &gt;&gt;&gt; i2 = iter([5, 6, 7])
        &gt;&gt;&gt; gen = zip(i1, i2)
        &gt;&gt;&gt; for elem in gen:
        ...     print(elem)
        (1, 5)
        (2, 6)
        (3, 7)
        """
        "*** YOUR CODE HERE ***"
    </pre>


    <h2 class="subtopic" id="gen-fill">Fill in the blank</h2> 

    <h3 class="question">Q4</h3>
    <p>Fill in the implementation of <tt>pascals</tt>, a generator
    function that yields successive lines of Pascal's triangle every
    time <tt>next</tt> is called. Each line should be represented as
    a Python list.</p>

    <p class="hint"><b>Hint</b>: a description of Pascal's triangle
    can be found 
    <a href="http://en.wikipedia.org/wiki/Pascal's_triangle">here</a>.
    </p>

    <pre class="codeblock">
    def pascals():
        """Doctest

        &gt;&gt;&gt; p = pascals()
        &gt;&gt;&gt; next(p)
        [1]
        &gt;&gt;&gt; next(p)
        [1, 1]
        &gt;&gt;&gt; next(p)
        [1, 2, 1]
        &gt;&gt;&gt; next(p)
        [1, 3, 3, 1]
        &gt;&gt;&gt; next(p)
        [1, 4, 6, 4, 1]
        """
        curr = ______
        while True:
            yield curr
            i, new = 1, [1]
            while ______:
                new.append(_____ + _____)
                i += 1
            new.append(1)
            curr = new
    </pre>

  </body>
</html>
